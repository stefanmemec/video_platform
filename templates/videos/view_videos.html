{% extends 'base.html' %}

{% block content %}
<h1>All Videos</h1>

{% if videos %}
  <div class="videos-container">
    {% for video in videos %}
      <div class="video-card" style="margin-bottom: 20px; border: 1px solid #ccc; padding: 10px; border-radius: 5px;">
        <h3>{{ video.title }}</h3>
        {% if video.description %}
          <p>{{ video.description }}</p>
        {% endif %}

        {% if video.file %}
          <video width="480" height="320" controls>
            <source src="{{ video.file.url }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        {% else %}
          <p><em>No video available</em></p>
        {% endif %}

        <p>Uploaded by: {{ video.user.username }}</p>
        <p>Uploaded at: {{ video.uploaded_at|date:"M d, Y H:i" }}</p>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p>No videos uploaded yet.</p>
{% endif %}

{% endblock %}
